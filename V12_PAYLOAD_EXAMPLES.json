{
  "description": "v1.2 Actual Payload Examples - What Gets Sent to Space Camp",
  "generated": "2026-02-12",
  "status": "FINAL ✅",
  
  "problem_payload_to_space_camp": {
    "description": "Problems + Context sent to Space Camp for simulation",
    "interface": "SpaceCampRequest (from SPACE_CAMP_API_CONTRACT_V12.md)",
    "example": {
      "documentId": "doc_math_6b_midterm_v2",
      "problems": [
        {
          "ProblemId": "prob_001",
          "Type": "multiple-choice",
          "BloomLevel": "Remember",
          "Content": "What is 15 × 3?",
          "LinguisticComplexity": 0.2,
          "EstimatedTimeMinutes": 1.5,
          "Difficulty": 2,
          "SequenceIndex": 0,
          "CorrectAnswer": "45"
        }
      ],
      "gradeBand": "6-8",
      "classLevel": "standard",
      "subject": "math",
      "timeTargetMinutes": 45,
      "overlayStrategy": "strategic"
    }
  },
  
  "student_payload_to_space_camp": {
    "description": "Astronaut personas (generated students) sent to Space Camp",
    "note": "Overlays array is EMPTY - filled by Phase 4 overlayStrategy.ts",
    "example_astronaut": {
      "StudentId": "astronaut_doc_math_6b_midterm_v2_2",
      "PersonaName": "Struggling Reader, Math-Capable",
      "Overlays": [],
      "ProfileTraits": {
        "ReadingLevel": 0.35,
        "MathFluency": 0.72,
        "AttentionSpan": 0.55,
        "Confidence": 0.45
      },
      "GradeLevel": "6-8"
    }
  },
  
  "overlays_applied_phase_4": {
    "description": "Strategic overlays applied to astronauts BEFORE simulation",
    "example_after_overlay": {
      "StudentId": "astronaut_doc_math_6b_midterm_v2_2",
      "Overlays": ["dyslexia"],
      "ProfileTraits": {
        "ReadingLevel": 0.21,
        "MathFluency": 0.72,
        "AttentionSpan": 0.495,
        "Confidence": 0.36
      }
    }
  },
  
  "philosopher_input": {
    "description": "What the Philosopher receives from Space Camp",
    "contains": [
      "problems (10-20 Asteroids with Bloom, complexity, time)",
      "studentSimulations (11 astronauts × simulation results)",
      "documentMetadata (gradeBand, subject, difficulty)",
      "teacherNotes (document-level and problem-level notes from Phase 2)"
    ]
  },
  
  "philosopher_output": {
    "description": "What the Philosopher returns with visualizations",
    "contains": [
      "rankedFeedback (20-40 feedback items, prioritized)",
      "visualizations (6 SVG charts: ClusterHeatMap, BloomComplexityScatter, ConfusionDensityMap, FatigueCurve, TopicRadarChart, SectionRiskMatrix)",
      "recommendations (specific actions for teacher)"
    ]
  },
  
  "complete_flow": [
    "1. Teacher uploads assignment",
    "2. Extract Asteroids (problems with Bloom, complexity, time)",
    "3. Send SpaceCampRequest: { problems, context, scoring rules, overlays config }",
    "4. Space Camp generates 11 Astronauts (empty overlays)",
    "5. Phase 4: applyOverlaysStrategically() applies 6 strategic rules",
    "6. Space Camp runs simulation (11 students × 10-20 problems)",
    "7. Philosopher receives simulation results + teacher notes",
    "8. Philosopher returns ranked feedback + debug info",
    "9. visualizations.ts generates 6 deterministic SVG charts",
    "10. Teacher sees PhilosopherReview UI (Feedback tab + Analytics tab with 6 charts)",
    "11. Teacher approves or sends to Rewriter for iteration"
  ],
  
  "testing_verification": {
    "overlay_strategy": "28/28 passing ✅",
    "visualizations": "30+ passing ✅",
    "teachers_notes": "4/4 passing ✅",
    "philosophers": "25+ passing ✅",
    "build": "✓ built ✅",
    "overall": "102/107 tests (95.3%) ✅"
  }
}
